<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Chapter 4 ç¬¬å››ç«  - æ¹–é‡Œçš„é—®é¢˜</title>
<style>
  body {
    font-family: Arial, sans-serif;
    line-height: 1.6;
    max-width: 800px;
    margin: 40px auto;
    padding: 0 20px;
    background-color: #fafafa;
    color: #333;
  }
  h1 {
    text-align: center;
    color: #0073e6;
    margin-bottom: 30px;
  }
  #chinese-text {
    white-space: pre-wrap;
    font-size: 1.25em;
    line-height: 2.2;
    margin-bottom: 30px;
    padding: 15px 20px;
    background-color: #ffffff;
    border: 1px solid #d1e3fc;
    border-radius: 10px;
    box-shadow: 0 2px 6px rgba(0, 115, 230, 0.1);
    font-family: "Noto Sans SC", "Microsoft Yahei", Arial, sans-serif;
    letter-spacing: 0.03em;
    text-indent: 2em;
  }
  #chinese-text p {
    margin-bottom: 1.5em;
  }
  #pinyin-text, #english-text {
    display: none;
    background: #eef6ff;
    border: 1px solid #b3d1ff;
    padding: 15px;
    margin: 10px 0 20px 0;
    white-space: pre-wrap;
    font-size: 1.1em;
  }
  button.toggle-btn {
    background-color: #0073e6;
    color: white;
    border: none;
    padding: 10px 18px;
    margin-right: 10px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1em;
  }
  button.toggle-btn:hover {
    background-color: #005bb5;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    background: #fff;
    margin-top: 30px;
  }
  th, td {
    border: 1px solid #ccc;
    padding: 10px;
    text-align: left;
  }
  th {
    background-color: #e6f2ff;
    font-weight: bold;
  }
  tr:nth-child(even) {
    background-color: #f9f9f9;
  }
  #quiz-container {
    margin-top: 40px;
  }
  .option-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
    margin: 20px 0;
  }
  .option-card {
    padding: 16px;
    background-color: #e0f0ff;
    border-radius: 12px;
    text-align: center;
    cursor: pointer;
    font-size: 1.1em;
    transition: background-color 0.3s ease;
    box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.1);
  }
  .option-card:hover {
    background-color: #cce7ff;
  }
  #feedback {
    font-weight: bold;
    font-size: 1.1em;
    min-height: 1.4em;
  }
  footer {
    margin-top: 50px;
    text-align: center;
  }
  footer a {
    color: #0073e6;
    text-decoration: none;
    font-size: 1.1em;
  }
  footer a:hover {
    text-decoration: underline;
  }
</style>
</head>
<body>

<h1>ç¬¬å››ç« : æ¹–é‡Œçš„é—®é¢˜</h1>
  
<p><strong>æ”¶å¬ç¬¬å››ç« ï¼š</strong></p>
<iframe width="360" height="202" 
        src="https://www.youtube.com/embed/fsysew66YDg" 
        title="YouTube video player" 
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen>
</iframe>

<!-- Chinese text -->
<div id="chinese-text" style="white-space: pre-line;">
å£°éŸ³è¯´ï¼šâ€œå¦‚æœä½ ä¸èƒ½å›ç­”è°œè¯­çš„è¯ï¼Œ
ä½ å°±æ°¸è¿œä¸èƒ½å›å®¶ã€‚â€
é©¬å‰å‰å¬äº†ï¼Œå®³æ€•æ­»äº†ï¼Œ
ä½†æ˜¯ä»–è¯´ï¼šâ€œæˆ‘ä¼šåŠªåŠ›çš„ï¼â€
ç„¶åï¼Œé©¬å‰å‰çœ‹åˆ°ä¸€ä¸ªå¤§æ¹–ã€‚
æ¹–æ°´æœ‰ç‚¹è„ï¼Œæ°´é‡Œæœ‰å¾ˆå¤šé±¼ã€‚
çªç„¶ï¼Œä¸€ä¸ªé±¼å¤´ä»æ°´é‡Œå‡ºæ¥äº†ï¼Œè¯´ï¼š
â€œæˆ‘ä»¬çš„æ¹–é‡Œæœ‰ä¸ªé—®é¢˜ã€‚ä½ å¯ä»¥å¸®æˆ‘ä»¬å—ï¼Ÿâ€
é©¬å‰å‰è¯´ï¼šâ€œå¯ä»¥å‘€ï¼â€
é±¼ä»æ°´é‡Œèµ°å‡ºæ¥äº†ã€‚
ä»–åƒäººä¸€æ ·èµ°è·¯ï¼Œç©¿ç€è¥¿è£…ã€‚
åŸæ¥æ˜¯é±¼å…ˆç”Ÿã€‚
é±¼å…ˆç”Ÿè¯´ï¼šâ€œå¥½çš„ï¼Œè·Ÿæˆ‘æ¥ã€‚â€
</div>

<!-- Buttons -->
<div style="margin-top: 15px;">
  <button class="toggle-btn" onclick="toggleVisibility('pinyin-text')">æ‹¼éŸ³</button>
  <button class="toggle-btn" onclick="toggleVisibility('english-text')">è‹±æ–‡</button>
</div>

<!-- Pinyin text -->
<div id="pinyin-text">
ShÄ“ngyÄ«n shuÅ: â€œRÃºguÇ’ nÇ bÃ¹ nÃ©ng huÃ­dÃ¡ mÃ­yÇ” de huÃ ,
nÇ jiÃ¹ yÇ’ngyuÇn bÃ¹ nÃ©ng huÃ­ jiÄ.â€
MÇ ChÄchÄ tÄ«ng le, hÃ ipÃ  sÇ le,
dÃ nshÃ¬ tÄ shuÅ: â€œWÇ’ huÃ¬ nÇ”lÃ¬ de!â€
RÃ¡nhÃ²u, MÇ ChÄchÄ kÃ ndÃ o yÃ­ gÃ¨ dÃ  hÃº.
HÃºshuÇ yÇ’udiÇn zÄng, shuÇ lÇ yÇ’u hÄ›n duÅ yÃº.
TÅ«rÃ¡n, yÃ­ gÃ¨ yÃºtÃ³u cÃ³ng shuÇ lÇ chÅ«lÃ¡i le, shuÅ:
â€œWÇ’men de hÃº lÇ yÇ’u gÃ¨ wÃ¨ntÃ­. NÇ kÄ›yÇ bÄng wÇ’men ma?â€
MÇ ChÄchÄ shuÅ: â€œKÄ›yÇ ya!â€
YÃº cÃ³ng shuÇ lÇ zÇ’u chÅ«lÃ¡i le.
TÄ xiÃ ng rÃ©n yÃ­yÃ ng zÇ’ulÃ¹, chuÄn zhe xÄ«zhuÄng.
YuÃ¡nlÃ¡i shÃ¬ YÃº XiÄnshÄ“ng.
YÃº XiÄnshÄ“ng shuÅ: â€œHÇo de, gÄ“n wÇ’ lÃ¡i.â€
</div>

<!-- English text -->
<div id="english-text">
The voice said, â€œIf you canâ€™t answer the riddle,
you will never be able to go home.â€
Ma Chacha was scared to death,
but he said, â€œIâ€™ll try my best!â€
Then, Ma Chacha saw a big lake.
The water was a little dirty, and there were many fish in it.
Suddenly, a fish head came out of the water and said,
â€œThereâ€™s a problem in our lake. Can you help us?â€
Ma Chacha said, â€œSure!â€
The fish walked out of the water.
He walked like a human and wore a suit.
It turned out to be Mr. Fish.
Mr. Fish said, â€œAlright, follow me!â€
</div>

<!-- Vocabulary list -->
<h2>ç”Ÿè¯</h2>
<table>
  <thead>
    <tr>
      <th>æ±‰å­—</th>
      <th>æ‹¼éŸ³</th>
      <th>æ„æ€</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>å¦‚æœ...çš„è¯</td><td>rÃºguÇ’... de huÃ </td><td>if... (conditional phrase)</td></tr>
    <tr><td>èƒ½</td><td>nÃ©ng</td><td>can / be able to</td></tr>
    <tr><td>å›ç­”</td><td>huÃ­dÃ¡</td><td>answer</td></tr>
    <tr><td>æ°¸è¿œ</td><td>yÇ’ngyuÇn</td><td>forever</td></tr>
    <tr><td>â€¦æ­»äº†</td><td>â€¦ sÇle</td><td>extremely (after adj.)</td></tr>
    <tr><td>åŠªåŠ›</td><td>nÇ”lÃ¬</td><td>try hard / make effort</td></tr>
    <tr><td>ç„¶å</td><td>rÃ¡nhÃ²u</td><td>then / after that</td></tr>
    <tr><td>æ¹–</td><td>hÃº</td><td>lake</td></tr>
    <tr><td>æ°´</td><td>shuÇ</td><td>water</td></tr>
    <tr><td>ä»</td><td>cÃ³ng</td><td>from</td></tr>
    <tr><td>å‡ºæ¥</td><td>chÅ«lÃ¡i</td><td>come out</td></tr>
    <tr><td>é—®é¢˜</td><td>wÃ¨ntÃ­</td><td>problem / question</td></tr>
    <tr><td>å¯ä»¥</td><td>kÄ›yÇ</td><td>can / may</td></tr>
    <tr><td>å¸®</td><td>bÄng</td><td>help</td></tr>
    <tr><td>åƒ</td><td>xiÃ ng</td><td>like / resemble</td></tr>
    <tr><td>ä¸€æ ·</td><td>yÃ­yÃ ng</td><td>same / alike</td></tr>
    <tr><td>èµ°è·¯</td><td>zÇ’ulÃ¹</td><td>walk</td></tr>
    <tr><td>è·Ÿæˆ‘æ¥</td><td>gÄ“n wÇ’ lÃ¡i</td><td>follow me</td></tr>
  </tbody>
</table>

<!-- Vocabulary quiz -->
<h2>ç»ƒä¹ ç”Ÿè¯</h2>
<div id="quiz-container">
  <p><strong id="word" style="font-size: 1.5em;"></strong></p>
  <div id="options" class="option-grid"></div>
  <p id="feedback"></p>
  <p>å¾—åˆ†: <span id="score">0</span> / <span id="total">0</span></p>
</div>

<style>
  .option-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
    margin: 20px 0;
  }
  .option-card {
    padding: 16px;
    background-color: #e0f0ff;
    border-radius: 12px;
    text-align: center;
    cursor: pointer;
    font-size: 1.1em;
    transition: background-color 0.3s ease;
    box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.1);
  }
  .option-card:hover {
    background-color: #cce7ff;
  }
</style>

<script>
  // Vocabulary for quiz: Chinese character keys with English meanings only (no pinyin here)
  const vocab = {
    "å¦‚æœ...çš„è¯": ["if... (conditional phrase)"],
    "èƒ½": ["can / be able to"],
    "å›ç­”": ["answer"],
    "æ°¸è¿œ": ["forever"],
    "â€¦æ­»äº†": ["extremely (after adj.)"],
    "åŠªåŠ›": ["try hard / make effort"],
    "ç„¶å": ["then / after that"],
    "æ¹–": ["lake"],
    "æ°´": ["water"],
    "ä»": ["from"],
    "å‡ºæ¥": ["come out"],
    "é—®é¢˜": ["problem / question"],
    "å¯ä»¥": ["can / may"],
    "å¸®": ["help"],
    "åƒ": ["like / resemble"],
    "ä¸€æ ·": ["same / alike"],
    "èµ°è·¯": ["walk"],
    "è·Ÿæˆ‘æ¥": ["follow me"]
  };

  const words = Object.keys(vocab);
  let score = 0;
  let questionIndex = 0;
  const totalQuestions = 10;
  let currentWord = "";

  document.getElementById('total').textContent = totalQuestions;

  function getRandomOptions(correctAnswer) {
    const allAnswers = Object.values(vocab).flat().filter(a => !correctAnswer.includes(a));
    const shuffled = allAnswers.sort(() => Math.random() - 0.5);
    const wrongOptions = shuffled.slice(0, 3);
    const options = [...wrongOptions, correctAnswer[0]];
    return options.sort(() => Math.random() - 0.5);
  }

  function loadQuestion() {
    if (questionIndex >= totalQuestions) {
      document.getElementById('quiz-container').innerHTML = `
        <h3>ç»ƒä¹ å®Œæˆï¼</h3>
        <p>ä½ çš„æœ€ç»ˆå¾—åˆ†: ${score} / ${totalQuestions}</p>
        <button onclick="restartQuiz()" style="padding: 10px 20px; font-size: 1em; margin-top: 20px;">ğŸ” å†æ¥ä¸€æ¬¡</button>
      `;
      return;
    }

    currentWord = words[Math.floor(Math.random() * words.length)];
    const correctAnswers = vocab[currentWord];
    const options = getRandomOptions(correctAnswers);

    document.getElementById('word').textContent = currentWord;
    document.getElementById('options').innerHTML = "";

    options.forEach(option => {
      const btn = document.createElement("div");
      btn.textContent = option;
      btn.className = "option-card";
      btn.onclick = () => checkAnswer(option, correctAnswers);
      document.getElementById("options").appendChild(btn);
    });

    document.getElementById("feedback").textContent = "";
  }

  function checkAnswer(selected, correctAnswers) {
    if (correctAnswers.map(a => a.toLowerCase()).includes(selected.toLowerCase())) {
      score++;
      document.getElementById("feedback").textContent = "âœ… æ­£ç¡®!";
    } else {
      document.getElementById("feedback").textContent = `âŒ é”™è¯¯ã€‚æ­£ç¡®ç­”æ¡ˆ: ${correctAnswers[0]}`;
    }
    document.getElementById("score").textContent = score;
    questionIndex++;
    setTimeout(loadQuestion, 1500);
  }

  function restartQuiz() {
    score = 0;
    questionIndex = 0;

    document.getElementById('quiz-container').innerHTML = `
      <p><strong id="word" style="font-size: 1.5em;"></strong></p>
      <div id="options" class="option-grid"></div>
      <p id="feedback"></p>
      <p>å¾—åˆ†: <span id="score">0</span> / <span id="total">${totalQuestions}</span></p>
    `;

    loadQuestion();
  }

  // Toggle visibility function for Pinyin and English
  function toggleVisibility(id) {
    const elem = document.getElementById(id);
    if (elem.style.display === "none" || elem.style.display === "") {
      elem.style.display = "block";
    } else {
      elem.style.display = "none";
    }
  }

  loadQuestion();
</script>

<footer>
  <a href="chapter3.html">â† ç¬¬ä¸‰ç« </a> | 
  <a href="chapter5.html">ç¬¬äº”ç«  â†’</a> | 
  <a href="/chinese/short-stories/ma-chacha.html">è¿”å›é¦–é¡µ</a>
</footer>

</body>
</html>
