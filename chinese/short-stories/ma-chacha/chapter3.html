<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Chapter 3 ç¬¬ä¸‰ç«  - å¥‡æ€ªçš„ä¸–ç•Œ</title>
<style>
  body {
    font-family: Arial, sans-serif;
    line-height: 1.6;
    max-width: 800px;
    margin: 40px auto;
    padding: 0 20px;
    background-color: #fafafa;
    color: #333;
  }
  h1 {
    text-align: center;
    color: #0073e6;
    margin-bottom: 30px;
  }
  #chinese-text {
    white-space: pre-wrap;
    font-size: 1.25em;
    line-height: 2.2;
    margin-bottom: 30px;
    padding: 15px 20px;
    background-color: #ffffff;
    border: 1px solid #d1e3fc;
    border-radius: 10px;
    box-shadow: 0 2px 6px rgba(0, 115, 230, 0.1);
    font-family: "Noto Sans SC", "Microsoft Yahei", Arial, sans-serif;
    letter-spacing: 0.03em;
    text-indent: 2em;
  }
  #chinese-text p {
    margin-bottom: 1.5em;
  }
  #pinyin-text, #english-text {
    display: none;
    background: #eef6ff;
    border: 1px solid #b3d1ff;
    padding: 15px;
    margin: 10px 0 20px 0;
    white-space: pre-wrap;
    font-size: 1.1em;
  }
  button.toggle-btn {
    background-color: #0073e6;
    color: white;
    border: none;
    padding: 10px 18px;
    margin-right: 10px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1em;
  }
  button.toggle-btn:hover {
    background-color: #005bb5;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    background: #fff;
    margin-top: 30px;
  }
  th, td {
    border: 1px solid #ccc;
    padding: 10px;
    text-align: left;
  }
  th {
    background-color: #e6f2ff;
    font-weight: bold;
  }
  tr:nth-child(even) {
    background-color: #f9f9f9;
  }
  #quiz-container {
    margin-top: 40px;
  }
  .option-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
    margin: 20px 0;
  }
  .option-card {
    padding: 16px;
    background-color: #e0f0ff;
    border-radius: 12px;
    text-align: center;
    cursor: pointer;
    font-size: 1.1em;
    transition: background-color 0.3s ease;
    box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.1);
  }
  .option-card:hover {
    background-color: #cce7ff;
  }
  #feedback {
    font-weight: bold;
    font-size: 1.1em;
    min-height: 1.4em;
  }
  footer {
    margin-top: 50px;
    text-align: center;
  }
  footer a {
    color: #0073e6;
    text-decoration: none;
    font-size: 1.1em;
  }
  footer a:hover {
    text-decoration: underline;
  }
</style>
</head>
<body>

<h1>ç¬¬ä¸‰ç« : å¥‡æ€ªçš„ä¸–ç•Œ</h1>

<!-- Chinese text -->
<div id="chinese-text" style="white-space: pre-line;">
é©¬å‰å‰èµ°è¿›äº†é—¨ï¼Œå‘ç°ä¸€ä¸ªå¥‡æ€ªçš„ä¸–ç•Œã€‚
è¿™é‡Œæœ‰ä¸€æ£µæ ‘ï¼Œæ ‘ä¸Šæœ‰ä¸€åªé¸Ÿã€‚
é¸Ÿå”±æ­Œï¼Œå£°éŸ³å¾ˆå¥½å¬ã€‚
é©¬å‰å‰çœ‹åˆ°ä¸€åªçŒ«ï¼ŒçŒ«åœ¨çœ‹ä¹¦ã€‚
çŒ«æ²¡æœ‰è¯´è¯ï¼Œä½†æ˜¯é©¬å‰å‰è§‰å¾—çŒ«å¾ˆèªæ˜ã€‚
é©¬å‰å‰å¼€å§‹èµ°ï¼Œçœ‹åˆ°ä¸€ä¸ªç¯®çƒå’Œä¸€ä¸ªæ’çƒã€‚
ç¯®çƒè‡ªå·±è·³èˆï¼Œæ’çƒè‡ªå·±é£ã€‚
é©¬å‰å‰ç¬‘äº†ï¼Œè¯´ï¼šâ€œè¿™é‡ŒçœŸå¥½ç©ï¼â€
çªç„¶ï¼Œé©¬å‰å‰å¬åˆ°ä¸€ä¸ªå£°éŸ³ï¼Œè¯´ï¼šâ€œä½ å‡†å¤‡å¥½äº†å—ï¼Ÿâ€
</div>

<!-- Buttons -->
<div style="margin-top: 15px;">
  <button class="toggle-btn" onclick="toggleVisibility('pinyin-text')">æ‹¼éŸ³</button>
  <button class="toggle-btn" onclick="toggleVisibility('english-text')">è‹±æ–‡</button>
</div>

<!-- Pinyin text -->
<div id="pinyin-text">
MÇ ChÄchÄ zÇ’u jÃ¬n le mÃ©n, fÄxiÃ n yÃ­ ge qÃ­guÃ i de shÃ¬jiÃ¨.
ZhÃ¨lÇ yÇ’u yÃ¬ kÄ“ shÃ¹, shÃ¹ shÃ ng yÇ’u yÃ¬ zhÄ« niÇo.
NiÇo chÃ nggÄ“, shÄ“ngyÄ«n hÄ›n hÇotÄ«ng.
MÇ ChÄchÄ kÃ n dÃ o yÃ¬ zhÄ« mÄo, mÄo zÃ i kÃ n shÅ«.
MÄo mÃ©iyÇ’u shuÅhuÃ , dÃ nshÃ¬ MÇ ChÄchÄ juÃ©de mÄo hÄ›n cÅngmÃ­ng.
MÇ ChÄchÄ kÄishÇ zÇ’u, kÃ n dÃ o yÃ­ ge lÃ¡nqiÃº hÃ© yÃ­ ge pÃ¡iqiÃº.
LÃ¡nqiÃº zÃ¬jÇ tiÃ owÇ”, pÃ¡iqiÃº zÃ¬jÇ fÄ“i.
MÇ ChÄchÄ xiÃ o le, shuÅ: â€œZhÃ¨lÇ zhÄ“n hÇowÃ¡n!â€
TÅ«rÃ¡n, MÇ ChÄchÄ tÄ«ng dÃ o yÃ­ ge shÄ“ngyÄ«n, shuÅ: â€œNÇ zhÇ”nbÃ¨i hÇo le ma?â€
</div>

<!-- English text -->
<div id="english-text">
Ma Chacha walked through the door and found a strange world.
There was a tree, and on the tree was a bird.
The bird sang, and its voice was very beautiful.
Ma Chacha saw a cat. The cat was reading a book.
The cat did not speak, but Ma Chacha thought the cat was very smart.
Ma Chacha started to walk and saw a basketball and a volleyball.
The basketball danced by itself, and the volleyball flew by itself.
Ma Chacha smiled and said, "This place is really fun!"
Suddenly, Ma Chacha heard a voice say, "Are you ready?"
</div>

<!-- Vocabulary list -->
<h2>ç”Ÿè¯</h2>
<table>
  <thead>
    <tr>
      <th>æ±‰å­—</th>
      <th>æ‹¼éŸ³</th>
      <th>æ„æ€</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>èµ°</td><td>zÇ’u</td><td>to walk</td></tr>
    <tr><td>è¿›</td><td>jÃ¬n</td><td>to enter</td></tr>
    <tr><td>å‘ç°</td><td>fÄxiÃ n</td><td>to discover</td></tr>
    <tr><td>å”±æ­Œ</td><td>chÃ nggÄ“</td><td>to sing</td></tr>
    <tr><td>èªæ˜</td><td>cÅngmÃ­ng</td><td>smart</td></tr>
    <tr><td>å¼€å§‹</td><td>kÄishÇ</td><td>to start / begin</td></tr>
    <tr><td>è‡ªå·±</td><td>zÃ¬jÇ</td><td>oneself / itself</td></tr>
    <tr><td>è·³èˆ</td><td>tiÃ owÇ”</td><td>to dance</td></tr>
    <tr><td>é£</td><td>fÄ“i</td><td>to fly</td></tr>
    <tr><td>å¥½ç©</td><td>hÇowÃ¡n</td><td>fun</td></tr>
    <tr><td>å‡†å¤‡</td><td>zhÇ”nbÃ¨i</td><td>to prepare / ready</td></tr>
  </tbody>
</table>

<!-- Vocabulary quiz -->
<h2>ç»ƒä¹ ç”Ÿè¯</h2>
<div id="quiz-container">
  <p><strong id="word" style="font-size: 1.5em;"></strong></p>
  <div id="options" class="option-grid"></div>
  <p id="feedback"></p>
  <p>å¾—åˆ†: <span id="score">0</span> / <span id="total">0</span></p>
</div>

<style>
  .option-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
    margin: 20px 0;
  }
  .option-card {
    padding: 16px;
    background-color: #e0f0ff;
    border-radius: 12px;
    text-align: center;
    cursor: pointer;
    font-size: 1.1em;
    transition: background-color 0.3s ease;
    box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.1);
  }
  .option-card:hover {
    background-color: #cce7ff;
  }
</style>

<script>
  // Vocabulary for quiz: Chinese character keys with English meanings only (no pinyin here)
  const vocab = {
    "èµ°": ["to walk"],
    "è¿›": ["to enter"],
    "å‘ç°": ["to discover"],
    "å”±æ­Œ": ["to sing"],
    "èªæ˜": ["smart"],
    "å¼€å§‹": ["to start / begin"],
    "è‡ªå·±": ["oneself / itself"],
    "è·³èˆ": ["to dance"],
    "é£": ["to fly"],
    "å¥½ç©": ["fun"],
    "å‡†å¤‡": ["to prepare / ready"]
  };

  const words = Object.keys(vocab);
  let score = 0;
  let questionIndex = 0;
  const totalQuestions = 10;
  let currentWord = "";

  document.getElementById('total').textContent = totalQuestions;

  function getRandomOptions(correctAnswer) {
    const allAnswers = Object.values(vocab).flat().filter(a => !correctAnswer.includes(a));
    const shuffled = allAnswers.sort(() => Math.random() - 0.5);
    const wrongOptions = shuffled.slice(0, 3);
    const options = [...wrongOptions, correctAnswer[0]];
    return options.sort(() => Math.random() - 0.5);
  }

  function loadQuestion() {
    if (questionIndex >= totalQuestions) {
      document.getElementById('quiz-container').innerHTML = `
        <h3>ç»ƒä¹ å®Œæˆï¼</h3>
        <p>ä½ çš„æœ€ç»ˆå¾—åˆ†: ${score} / ${totalQuestions}</p>
        <button onclick="restartQuiz()" style="padding: 10px 20px; font-size: 1em; margin-top: 20px;">ğŸ” å†æ¥ä¸€æ¬¡</button>
      `;
      return;
    }

    currentWord = words[Math.floor(Math.random() * words.length)];
    const correctAnswers = vocab[currentWord];
    const options = getRandomOptions(correctAnswers);

    document.getElementById('word').textContent = currentWord;
    document.getElementById('options').innerHTML = "";

    options.forEach(option => {
      const btn = document.createElement("div");
      btn.textContent = option;
      btn.className = "option-card";
      btn.onclick = () => checkAnswer(option, correctAnswers);
      document.getElementById("options").appendChild(btn);
    });

    document.getElementById("feedback").textContent = "";
  }

  function checkAnswer(selected, correctAnswers) {
    if (correctAnswers.map(a => a.toLowerCase()).includes(selected.toLowerCase())) {
      score++;
      document.getElementById("feedback").textContent = "âœ… æ­£ç¡®!";
    } else {
      document.getElementById("feedback").textContent = `âŒ é”™è¯¯ã€‚æ­£ç¡®ç­”æ¡ˆ: ${correctAnswers[0]}`;
    }
    document.getElementById("score").textContent = score;
    questionIndex++;
    setTimeout(loadQuestion, 1500);
  }

  function restartQuiz() {
    score = 0;
    questionIndex = 0;

    document.getElementById('quiz-container').innerHTML = `
      <p><strong id="word" style="font-size: 1.5em;"></strong></p>
      <div id="options" class="option-grid"></div>
      <p id="feedback"></p>
      <p>å¾—åˆ†: <span id="score">0</span> / <span id="total">${totalQuestions}</span></p>
    `;

    loadQuestion();
  }

  // Toggle visibility function for Pinyin and English
  function toggleVisibility(id) {
    const elem = document.getElementById(id);
    if (elem.style.display === "none" || elem.style.display === "") {
      elem.style.display = "block";
    } else {
      elem.style.display = "none";
    }
  }

  loadQuestion();
</script>

<footer>
  <a href="chapter2.html">â† ç¬¬äºŒç« </a> | 
  <a href="chapter4.html">ç¬¬å››ç«  â†’</a> | 
  <a href="/chinese/short-stories/ma-chacha.html">è¿”å›é¦–é¡µ</a>
</footer>

</body>
</html>
